webpackJsonp([1],{551:function(t,e,n){function r(t){n(665)}var o=n(38)(n(608),n(689),r,null,null);t.exports=o.exports},573:function(t,e,n){t.exports={default:n(574),__esModule:!0}},574:function(t,e,n){var r=n(39),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},575:function(t,e,n){var r=n(22),o=n(39),a=n(138),s=n(576),i=n(67).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||i(e,t,{value:s.f(t)})}},576:function(t,e,n){e.f=n(23)},578:function(t,e,n){var r=n(218),o=n(141).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},587:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(590),o=(n.n(r),function(){function t(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n}var e={dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDayNames:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二"],am:"上午",pm:"下午",shortAm:"上",shortPm:"下"},n=function(){var t=/\d{2}/,e=/\d{4}/,n=/\d{1,2}/,r=/\d{1,3}/,o=/.{2}/,a=/.{1,2}/,s={yy:{regex:t,name:"year"},yyyy:{regex:e,name:"year"},MM:{regex:t,name:"month"},M:{regex:n,name:"month"},dd:{regex:t,name:"date"},d:{regex:n,name:"date"},HH:{regex:t,name:"hours"},H:{regex:n,name:"hours"},hh:{regex:t,name:"hours"},h:{regex:n,name:"hours"},mm:{regex:t,name:"minutes"},m:{regex:n,name:"minutes"},s:{regex:n,name:"seconds"},ss:{regex:t,name:"seconds"},tt:{regex:o,name:"t"},t:{regex:a,name:"t"},S:{regex:r,name:"millisecond"},SS:{regex:r,name:"millisecond"},SSS:{regex:r,name:"millisecond"}};return function(t,e,n){var r,o=s[t];return o&&(r=e.match(o.regex))?(n[o.name]=r[0],r[0]):null}}();return{locale:e,format:function(e,n){if("[object Date]"!==Object.prototype.toString.call(e))return"";"[object String]"===Object.prototype.toString.call(n)&&""!==n||(n="yyyy-MM-dd HH:mm:ss");var r=e.getFullYear(),a=e.getMonth(),s=e.getDay(),i=e.getDate(),l=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),f=e.getMilliseconds();return n.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|SS?S?)/g,function(e){if("\\"===e.charAt(0))return e.replace("\\","");var n=o.locale;switch(e){case"hh":return t(l<13?0===l?12:l:l-12,2);case"h":return l<13?0===l?12:l:l-12;case"HH":return t(l,2);case"H":return l;case"mm":return t(c,2);case"m":return c;case"ss":return t(u,2);case"s":return u;case"yyyy":return r;case"yy":return(r+"").substring(2);case"dddd":return n.dayNames[s];case"ddd":return n.shortDayNames[s];case"dd":return t(i,2);case"d":return i;case"MMMM":return n.monthNames[a];case"MMM":return n.shortMonthNames[a];case"MM":return t(a+1,2);case"M":return a+1;case"t":return l<12?n.shortAm:n.shortPm;case"tt":return l<12?n.am:n.pm;case"S":return f;case"SS":return t(f,2);case"SSS":return t(f,3);default:return e}})},parse:function(t,e){if(!t)return null;if("[object Date]"===Object.prototype.toString.call(t))return t;if("[object String]"!==Object.prototype.toString.call(t))return null;var r;if("[object String]"!==Object.prototype.toString.call(e)||""===e)return r=Date.parse(t),isNaN(r)?null:new Date(r);var a,s,i,l=e.match(/(\\)?(dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|SS?S?|.)/g),c={year:0,month:1,date:0,hours:0,minutes:0,seconds:0,millisecond:0};for(a=0;a<l.length;a++)s=l[a],i=n(s,t,c),t=null!==i?t.length>i.length?t.substring(i.length):"":t.substring(s.length);return c.t&&(o.locale.pm!==c.t&&o.locale.shortPm!==c.t||(c.hours=+c.hours+12)),c.month-=1,new Date(c.year,c.month,c.date,c.hours,c.minutes,c.seconds,c.millisecond)}}}())},588:function(t,e,n){t.exports={default:n(591),__esModule:!0}},589:function(t,e,n){t.exports={default:n(592),__esModule:!0}},590:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(589),a=r(o),s=n(588),i=r(s),l="function"==typeof i.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};e.default="function"==typeof i.default&&"symbol"===l(a.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":l(t)}},591:function(t,e,n){n(599),n(220),n(600),n(601),t.exports=n(39).Symbol},592:function(t,e,n){n(221),n(222),t.exports=n(576).f("iterator")},593:function(t,e,n){var r=n(137),o=n(214),a=n(213);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,i=n(t),l=a.f,c=0;i.length>c;)l.call(t,s=i[c++])&&e.push(s);return e}},594:function(t,e,n){var r=n(69);t.exports=Array.isArray||function(t){return"Array"==r(t)}},595:function(t,e,n){var r=n(137),o=n(89);t.exports=function(t,e){for(var n,a=o(t),s=r(a),i=s.length,l=0;i>l;)if(a[n=s[l++]]===e)return n}},596:function(t,e,n){var r=n(140)("meta"),o=n(70),a=n(66),s=n(67).f,i=0,l=Object.isExtensible||function(){return!0},c=!n(90)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,r,{value:{i:"O"+ ++i,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[r].i},p=function(t,e){if(!a(t,r)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[r].w},m=function(t){return c&&h.NEED&&l(t)&&!a(t,r)&&u(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:m}},597:function(t,e,n){var r=n(213),o=n(139),a=n(89),s=n(215),i=n(66),l=n(216),c=Object.getOwnPropertyDescriptor;e.f=n(59)?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(i(t,e))return o(!r.f.call(t,e),t[e])}},598:function(t,e,n){var r=n(89),o=n(578).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return o(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?i(t):o(r(t))}},599:function(t,e,n){"use strict";var r=n(22),o=n(66),a=n(59),s=n(60),i=n(219),l=n(596).KEY,c=n(90),u=n(142),f=n(93),p=n(140),m=n(23),h=n(576),d=n(575),g=n(595),y=n(593),v=n(594),b=n(51),x=n(89),S=n(215),w=n(139),A=n(217),_=n(598),C=n(597),D=n(67),M=n(137),O=C.f,B=D.f,j=_.f,N=r.Symbol,E=r.JSON,P=E&&E.stringify,k=m("_hidden"),H=m("toPrimitive"),T={}.propertyIsEnumerable,L=u("symbol-registry"),z=u("symbols"),I=u("op-symbols"),F=Object.prototype,J="function"==typeof N,R=r.QObject,K=!R||!R.prototype||!R.prototype.findChild,Y=a&&c(function(){return 7!=A(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(F,e);r&&delete F[e],B(t,e,n),r&&t!==F&&B(F,e,r)}:B,W=function(t){var e=z[t]=A(N.prototype);return e._k=t,e},$=J&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},G=function(t,e,n){return t===F&&G(I,e,n),b(t),e=S(e,!0),b(n),o(z,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=A(n,{enumerable:w(0,!1)})):(o(t,k)||B(t,k,w(1,{})),t[k][e]=!0),Y(t,e,n)):B(t,e,n)},U=function(t,e){b(t);for(var n,r=y(e=x(e)),o=0,a=r.length;a>o;)G(t,n=r[o++],e[n]);return t},Q=function(t,e){return void 0===e?A(t):U(A(t),e)},Z=function(t){var e=T.call(this,t=S(t,!0));return!(this===F&&o(z,t)&&!o(I,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,k)&&this[k][t])||e)},q=function(t,e){if(t=x(t),e=S(e,!0),t!==F||!o(z,e)||o(I,e)){var n=O(t,e);return!n||!o(z,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},V=function(t){for(var e,n=j(x(t)),r=[],a=0;n.length>a;)o(z,e=n[a++])||e==k||e==l||r.push(e);return r},X=function(t){for(var e,n=t===F,r=j(n?I:x(t)),a=[],s=0;r.length>s;)!o(z,e=r[s++])||n&&!o(F,e)||a.push(z[e]);return a};J||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(I,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),Y(this,t,w(1,n))};return a&&K&&Y(F,t,{configurable:!0,set:e}),W(t)},i(N.prototype,"toString",function(){return this._k}),C.f=q,D.f=G,n(578).f=_.f=V,n(213).f=Z,n(214).f=X,a&&!n(138)&&i(F,"propertyIsEnumerable",Z,!0),h.f=function(t){return W(m(t))}),s(s.G+s.W+s.F*!J,{Symbol:N});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)m(tt[et++]);for(var nt=M(m.store),rt=0;nt.length>rt;)d(nt[rt++]);s(s.S+s.F*!J,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=N(t)},keyFor:function(t){if($(t))return g(L,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!J,"Object",{create:Q,defineProperty:G,defineProperties:U,getOwnPropertyDescriptor:q,getOwnPropertyNames:V,getOwnPropertySymbols:X}),E&&s(s.S+s.F*(!J||c(function(){var t=N();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&v(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,P.apply(E,r)}}}),N.prototype[H]||n(52)(N.prototype,H,N.prototype.valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},600:function(t,e,n){n(575)("asyncIterator")},601:function(t,e,n){n(575)("observable")},604:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c});var r=n(65),o=n.n(r),a=n(212),s=n.n(a),i=n(211),l=function(t){return s.a.post(i.a+"/jade/agent/agentPerformance.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return o.a.resolve(t.data)},function(t){console.log(t)})},c=function(t){return s.a.post(i.a+"/jade/agent/delagentPerformance.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return o.a.resolve(t.data)},function(t){console.log(t)})}},608:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(573),o=n.n(r),a=n(604),s=n(92),i=n(587);e.default={data:function(){return{filters:{name:"",time:""},totalData:[],topics:[],total:0,page:1,pageSize:10,listLoading:!1,businessList:null,old:0,totalRows:0,totalSales:0}},methods:{getTopics:function(){var t=this;this.listLoading=!0;var e=o()({sid:sessionStorage.getItem("sub_sid")});n.i(a.a)(e).then(function(e){e.success&&t.setTopics(e.result.data),t.listLoading=!1})},filterData:function(){var t=this,e=[],r=o()({sid:sessionStorage.getItem("sub_sid")});n.i(a.a)(r).then(function(n){if(n.success){if(t.setTopics(n.result.data),!t.filters.name&&!t.filters.time)return;if(t.totalData.map(function(n,r){for(var o in n)if(e.indexOf(o)<0){var a=n[o]+"";if(a.indexOf(t.filters.name)>=0){e.push(n);break}}}),t.filters.time)if(t.filters.name){var r=[];e.map(function(e,n){var o=+new Date(e.endTime);o>=+new Date(t.filters.time[0])&&o<=+new Date(t.filters.time[1])&&r.push(e)}),e=r}else e=[],t.totalData.map(function(n,r){var o=+new Date(n.endTime);o>=+new Date(t.filters.time[0])&&o<=+new Date(t.filters.time[1])&&e.push(n)});t.setTopics(e)}else;})},setTopics:function(t){this.totalData=t,this.totalSales=0,this.totalRows=0;var e={};this.totalData.map(function(t,n){e[t.fname]||(e[t.fname]={num:0,price:0}),e[t.fname].num+=parseInt(t.cnumber),e[t.fname].price+=parseInt(t.cprice)}),this.businessList=e;for(var n in this.businessList)this.totalSales+=parseInt(this.businessList[n].price),this.totalRows+=parseInt(this.businessList[n].num);this.total=Math.ceil(this.totalData.length/10),this.topics=t.slice(this.page-1,10)},clearPerformance:function(){var t=this,e=new Date(this.filters.time)?"":i.a.format(new Date(this.filters.time[0]),"yyyy-MM-dd HH:mm:ss"),r=new Date(this.filters.time)?"":i.a.format(new Date(this.filters.time[1]),"yyyy-MM-dd HH:mm:ss"),o={beginTime:e,endTime:r,sid:n.i(s.a)()};n.i(a.b)(o).then(function(e){console.log(e),e.success?(t.$message({message:"清空成功",type:"success"}),t.getTopics(),t.handleCurrentChange(1)):t.$confirm(e.result.error,"提示",{type:"warning"}).then(function(){})})},handleCurrentChange:function(t){this.page=t-1;for(var e=[],n=10*(t-1);n<10*t;n++)this.totalData[n]&&e.push(this.totalData[n]);this.topics=e}},mounted:function(){this.getTopics()}}},643:function(t,e,n){e=t.exports=n(546)(!0),e.push([t.i,"h3{font-size:17px;margin-bottom:20px}.content-wrapper{min-height:400px;margin:20px auto}.content-wrapper h3{font-size:16px}.content-wrapper .performance-list{overflow-x:hidden;overflow-y:auto}.content-wrapper .performance-list .el-col{font-size:15px;margin-bottom:14px}.performance-container{margin-top:70px}.red{color:red;font-weight:600}","",{version:3,sources:["C:/Users/crscr/Desktop/Projects/翡翠/Code_role/src/components/agent/detail.vue"],names:[],mappings:"AACA,GACE,eAAgB,AAChB,kBAAoB,CACrB,AACD,iBACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,oBACE,cAAgB,CACjB,AACD,mCACE,kBAAmB,AACnB,eAAiB,CAClB,AACD,2CACE,eAAgB,AAChB,kBAAoB,CACrB,AACD,uBACE,eAAiB,CAClB,AACD,KACE,UAAY,AACZ,eAAiB,CAClB",file:"detail.vue",sourcesContent:["\nh3 {\n  font-size: 17px;\n  margin-bottom: 20px;\n}\n.content-wrapper {\n  min-height: 400px;\n  margin: 20px auto;\n}\n.content-wrapper h3 {\n  font-size: 16px;\n}\n.content-wrapper .performance-list {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.content-wrapper .performance-list .el-col {\n  font-size: 15px;\n  margin-bottom: 14px;\n}\n.performance-container {\n  margin-top: 70px;\n}\n.red {\n  color: #f00;\n  font-weight: 600;\n}"],sourceRoot:""}])},665:function(t,e,n){var r=n(643);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(547)("41f4d554",r,!0)},689:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[n("el-form",{attrs:{inline:!0,model:t.filters}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"搜索"},model:{value:t.filters.name,callback:function(e){t.filters.name=e},expression:"filters.name"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.filterData}},[t._v("查询")])],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"danger"},on:{click:t.clearPerformance}},[t._v("清空")])],1),t._v(" "),n("div",{staticClass:"block",staticStyle:{float:"right"}},[n("el-date-picker",{attrs:{type:"daterange",placeholder:"选择时间范围"},model:{value:t.filters.time,callback:function(e){t.filters.time=e},expression:"filters.time"}})],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.topics,"highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"sid",label:"货号",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"cname",label:"物品名称",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"cprice",label:"单价",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        1\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"fname",label:"一级类别",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.endTime.slice(0,11))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"ccolor",label:"种色",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"total",label:"总价",align:"center"}})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"toolbar",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":t.pageSize,total:t.total*t.pageSize},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),n("div",{staticClass:"performance-container"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("h3",[t._v("当前查询业绩数据")])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.businessList,expression:"businessList"}],staticClass:"performance-list",staticStyle:{height:"380px"}},[t._l(t.businessList,function(e,r){return[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4}},[t._v("\n            "+t._s(r)+"销售数量：\n          ")]),t._v(" "),n("el-col",{attrs:{span:1}},[t._v("\n            "+t._s(e.num)+"\n          ")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n            "+t._s(r)+"类销售总价：\n          ")]),t._v(" "),n("el-col",{attrs:{span:1}},[t._v("\n            "+t._s(e.price)+"\n          ")])],1)]})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.businessList,expression:"!businessList"}],staticClass:"performance-list",staticStyle:{height:"230px",padding:"0px 10px 12px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4}},[t._v("\n          暂无数据\n        ")])],1)],1),t._v(" "),n("div",{staticClass:"line"}),t._v(" "),n("el-row",{staticClass:"toolbar",attrs:{gutter:20}},[n("el-col",{attrs:{span:4}},[t._v("\n        总销售数量：\n      ")]),t._v(" "),n("el-col",{attrs:{span:1}},[t._v("\n        "+t._s(t.totalRows)+"\n      ")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("\n        总销售价格：\n      ")]),t._v(" "),n("el-col",{staticClass:"red",attrs:{span:1}},[t._v("\n        "+t._s(t.totalSales)+"\n      ")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.920d415d78bf38810cb1.js.map