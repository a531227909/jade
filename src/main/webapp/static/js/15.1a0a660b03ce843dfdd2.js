webpackJsonp([15],{577:function(e,t,i){function o(e){i(677)}var a=i(41)(i(632),i(702),o,null,null);e.exports=a.exports},593:function(e,t,i){e.exports={default:i(594),__esModule:!0}},594:function(e,t,i){var o=i(28),a=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},600:function(e,t,i){"use strict";i.d(t,"f",function(){return l}),i.d(t,"i",function(){return c}),i.d(t,"a",function(){return d}),i.d(t,"b",function(){return u}),i.d(t,"g",function(){return m}),i.d(t,"e",function(){return p}),i.d(t,"n",function(){return g}),i.d(t,"o",function(){return h}),i.d(t,"c",function(){return f}),i.d(t,"l",function(){return v}),i.d(t,"m",function(){return C}),i.d(t,"j",function(){return b}),i.d(t,"k",function(){return y}),i.d(t,"q",function(){return F}),i.d(t,"r",function(){return w}),i.d(t,"d",function(){return A}),i.d(t,"h",function(){return x}),i.d(t,"p",function(){return _});var o=i(74),a=i.n(o),r=i(228),s=i.n(r),n=i(227),l=function(e){return s.a.post(n.a+"/jade/commodityManage/selectCommosityByCid.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},c=function(){return s.a.post(n.a+"/jade/commodityManage/getCommodityList.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},d=function(){return s.a.post(n.a+"/jade/commodityManage/getCommoditysoldOut.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},u=function(e){return s.a.post(n.a+"/jade/commodityManage/soldOutAndPutAway.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},m=function(e){return s.a.post(n.a+"/jade/commodityManage/delCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},p=function(e){return s.a.post(n.a+"/jade/commodityManage/getSecondByFirst.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},g=function(e){return s.a.post(n.a+"/jade/commodityManage/addCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},h=function(e){return s.a.post(n.a+"/jade/commodityManage/addSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},f=function(e){return s.a.post(n.a+"/jade/commodityManage/getFirstCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},v=function(e){return s.a.post(n.a+"/jade/commodityManage/delCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},C=function(e){return s.a.post(n.a+"/jade/commodityManage/delSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},b=function(e){return s.a.post(n.a+"/jade/commodityManage/getAllSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},y=function(e){return s.a.post(n.a+"/jade/commodityManage/addSecondByFirst.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},F=function(e){return s.a.post(n.a+"/jade/commodityManage/updateSecond.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},w=function(e){return s.a.post(n.a+"/jade/commodityManage/addCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},A=function(e){return s.a.post(n.a+"/jade/commodity/getCondition.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},x=function(e){return s.a.post(n.a+"/jade/commodityManage/updataCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},_=function(e){return s.a.post(n.a+"/jade/commodityManage/updateCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})}},632:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(146),a=i.n(o),r=i(593),s=i.n(r),n=i(600),l=i(227);t.default={data:function(){return{filters:{name:""},totalData:[],topics:[],total:0,rules:sessionStorage.getItem("rules"),rulesEdit:{firstId:[{required:!0,message:"请输入一级类别",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],size:[{required:!0,message:"请输入圈口",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{min:1,max:8,message:"不能超过8位数",trigger:"blur"}],water:[{required:!0,message:"请选择种水",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],standarddcscribe:[{required:!0,message:"请输入内容",trigger:"change"}],imageText:[{required:!0,message:"请插入图文",trigger:"change"}]},roles:{firstId:[{required:!0,message:"请输入一级类别",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],size:[{required:!0,message:"请输入圈口",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{min:1,max:8,message:"不能超过8位数",trigger:"blur"}],water:[{required:!0,message:"请选择种水",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],standarddcscribe:[{required:!0,message:"请输入内容",trigger:"change"}],imageText:[{required:!0,message:"请插入图文",trigger:"change"}]},page:1,pageSize:10,listLoading:!1,showFormVisible:!1,showLoading:!1,showForm:{cid:"",color:"",name:"",price:"",sid:"",size:"",img:[{name:"",url:""}],video:{name:"",url:""}},editFormVisible:!1,editForm:{name:"",size:"",price:"",pcnumber:["0","",""],pcprice:["","",""],firstId:"",secondId:"",water:"",color:"",describe:"",imageText:"",img:"",video:"",status:"0"},firstCategoryOption:[],firstCategory:"",sectionCategoryOption:[],sectionCategoryOptionFlag:!0,secondCategory:"",videoOrPhotos:"",uploadVideoPost:"",dialogImageUrl:"",dialogVisible:!1,imgTextList:[],uploadServer:l.b,server:l.a,videoPostUrl:"",imgList:[],videoUrl:"",fileList:[],colorOption:[]}},methods:{getTopics:function(){var e=this;this.listLoading=!0,i.i(n.i)().then(function(t){t.success?e.setTopics(t.result.data):e.$confirm(t.result.error,"提示",{type:"warning"}).then(function(){}),e.listLoading=!1})},setTopics:function(e){this.totalData=e.reverse(),this.total=Math.ceil(this.totalData.length/10),this.topics=e.slice(this.page-1,10)},filterData:function(){var e=this,t=[];i.i(n.i)().then(function(i){if(i.success){if(e.setTopics(i.result.data),!e.filters.name)return;e.totalData.map(function(i,o){for(var a in i)if(t.indexOf(a)<0){var r=i[a]+"";if(r.indexOf(e.filters.name)>=0){t.push(i);break}}}),e.setTopics(t)}})},handleCurrentChange:function(e){this.page=e;for(var t=[],i=10*(e-1);i<10*e;i++)this.totalData[i]&&t.push(this.totalData[i]);this.topics=t},handleOutLine:function(e){var t=this;this.$confirm("确认下架吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var o=s()({cid:e.cid,time:e.validTime});i.i(n.b)(o).then(function(e){t.listLoading=!1,e.success?t.$message({message:"下架成功",type:"success"}):t.$message.error("下架失败"),t.handleCurrentChange(1),t.getTopics()})}).catch(function(){})},handleEdit:function(e){var t=this;console.log(e),this.listLoading=!0,this.sectionCategoryOptionFlag=!0,i.i(n.c)({}).then(function(o){t.firstCategoryOption=o.result.data,i.i(n.d)().then(function(i){t.imgList=[],t.videoUrl="",t.videoPostUrl="",t.uploadVideoPost="",t.imgTextList=[],t.waterOption=i.result.water,t.colorOption=i.result.color,a()(t.editForm,e,{status:"1"}),e.figuredescribe&&e.figuredescribe.map(function(e){t.imgTextList.push({name:e.key,url:e.url})});var o=t.editForm.price.split("-")[0].split(","),r=t.editForm.price.split("-")[1].split(",");t.editForm.pcnumber=o,t.editForm.pcprice=r,t.editForm.color=e.color,"0"!==e.isNoPackagemaill?(t.videoUrl=e.isNoPackagemaill[0].url,t.videoPostUrl=e.isNoPackagemaill[1].url,t.editForm.video=e.isNoPackagemaill[0].key,t.uploadVideoPost=e.isNoPackagemaill[1].key,e.commodityImg&&e.commodityImg.map(function(e){t.imgList.push({name:e.key,url:e.url})})):e.commodityImg.map(function(e){t.imgList.push({name:e.key,url:e.url})}),t.videoOrPhotos=t.editForm.videoOrPhotos,t.firstCategory=t.editForm.firstCategory,t.secondCategory=t.editForm.secondCategory||"其它",t.fileList=[],t.firstCate(t.firstCategory),t.editFormVisible=!0,t.listLoading=!1})})},firstCate:function(e){var t=this;if(!e)return!1;e===this.editForm.firstCategory&&(e=this.editForm.firstId);var o={firstId:e};i.i(n.e)(o).then(function(e){if(t.sectionCategoryOption=e.result.data,t.sectionCategoryOptionFlag=!1,"其它"===t.sectionCategoryOption[0].name||"其他"===t.sectionCategoryOption[0].name)t.secondCategory=t.sectionCategoryOption[0].name;else{for(var i=!1,o=0;o<t.sectionCategoryOption.length;o++)t.secondCategory===t.sectionCategoryOption[o].name&&(i=!0);t.secondCategory=i?t.editForm.secondCategory:t.sectionCategoryOption[0].name}})},getFirst:function(){var e=this;this.listLoading=!0,i.i(n.c)({}).then(function(t){e.firstCategoryOption=t.result.data,e.listLoading=!1})},handleShow:function(e){var t=this;this.listLoading=!0;var o=s()({cid:e.cid});i.i(n.f)(o).then(function(e){a()(t.showForm,{img:[],video:{}},e.result),t.showFormVisible=!0,t.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var o=s()({cid:e.cid});i.i(n.g)(o).then(function(e){t.listLoading=!1,e.success?t.$message({message:"删除成功",type:"success"}):t.$message.error("删除失败"),t.handleCurrentChange(1),t.getTopics()})}).catch(function(){})},beforeUpload:function(e){return e.size>6291456?(this.$message({type:"error",message:"图片不可以超过6MB一张",duration:1e3}),!1):this.imgList.length>8?(this.$message({type:"error",message:"最多上传9张图片",duration:1e3}),!1):void 0},handleSuccess:function(e,t,i){this.imgList=i},handleRemove:function(e,t){this.imgList=t},handleSuccess2:function(e,t,i){this.imgTextList=i},handleRemove2:function(e,t){this.imgTextList=t},editAction:function(){var e=this;if("1"===this.videoOrPhotos){if(!this.editForm.video)return void this.$message({showClose:!0,message:"请选择要上传的视频",type:"error"});if(!this.uploadVideoPost)return void this.$message.error("请先上传视频封面");this.editForm.video.indexOf(".mp4")>0&&(this.editForm.video=this.editForm.video.slice(0,-4)),this.editForm.isNoPackagemaill=this.editForm.video+","+this.uploadVideoPost;var t=[];this.imgList.length&&this.imgList.map(function(e){e.name?t.push(e.name):e.response&&t.push(e.response.result.key)}),this.editForm.commodityImg=t.toString()}else{var o=[];this.imgList.map(function(e,t){t<9&&(e.response?o.push(e.response.result.key):o.push(e.name))}),this.editForm.commodityImg=o.join(","),this.editForm.video.indexOf(".mp4")>0&&(this.editForm.video=this.editForm.video.slice(0,-4)),this.uploadVideoPost?this.editForm.isNoPackagemaill=this.editForm.video+","+this.uploadVideoPost:"0"!==this.editForm.isNoPackagemaill?this.editForm.isNoPackagemaill=this.editForm.video+","+this.editForm.video[1].key:this.editForm.isNoPackagemaill="0"}var a=[];if(this.imgTextList.map(function(e,t){e.response?a.push(e.response.result.key):a.push(e.name)}),this.editForm.figuredescribe=a.join(","),this.editLoading=!0,this.editForm.size=(this.editForm.size-0).toFixed("1"),this.editForm.videoOrPhotos=this.videoOrPhotos,this.editForm.firstId=this.firstCategory===this.editForm.firstCategory?this.editForm.firstId:this.firstCategory,this.secondCategory===this.sectionCategoryOption[0].name)this.editForm.secondId=this.sectionCategoryOption[0].secondId;else if("其它"===this.secondCategory||"其他"===this.secondCategory)this.editForm.secondId=this.sectionCategoryOption[0].secondId;else{for(var r=!1,l=0;l<this.sectionCategoryOption.length;l++)this.secondCategory===this.sectionCategoryOption[l].name&&(r=!0);r||(this.editForm.secondId=this.secondCategory)}var c=s()(this.editForm);i.i(n.h)(c).then(function(t){e.editLoading=!1,t.success?e.$message({message:"更新成功",type:"success"}):e.$message.error(t.result.error),e.editFormVisible=!1,e.getTopics(),e.handleCurrentChange(e.page)})},beforeVideoUpload:function(e){var t="video/mp4"===e.type,i=e.size/1024/1024<50;return t||this.$message.error("上传视频只能是MP4格式!"),i||this.$message.error("上传视频大小不能超过 50MB!"),t&&i&&(this.videoLoading=!0),t&&i},handleSuccessVideo:function(e,t){this.videoLoading=!1,this.videoUrl=t.url,this.editForm.video=e.result.key,this.editForm.img=""},handleImportSuccess:function(e){e.success?(this.$message({message:"恭喜你 上传成功!!!",type:"success"}),this.getTopics()):this.$message.error("上传失败"),this.importsVisible=!1},submitUpload:function(){this.$refs.upload.submit()},handleImportRemove:function(){},handleVideoPostSuccess:function(e,t){this.uploadVideoPost=e.result.key,this.videoPostUrl=t.url},handelShow:function(e){var t=this;this.listLoading=!0;var o=s()({cid:e.cid});i.i(n.f)(o).then(function(e){a()(t.showForm,{img:[],video:{}},e.result),t.showFormVisible=!0,t.listLoading=!1})}},mounted:function(){this.getTopics()}}},652:function(e,t,i){t=e.exports=i(562)(!0),t.push([e.i,".line{border-bottom:1px solid #ccc;margin-bottom:12px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;background:#fbfdff;position:relative;overflow:hidden}.sector .el-col-7{padding-left:0!important;padding-right:0!important}.sector .el-col-1{padding-left:2px!important;padding-right:0!important}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:148px;height:148px;line-height:148px;text-align:center}.avatar{width:148px;height:148px;display:block}","",{version:3,sources:["D:/个人信息/2018-11-3/翡翠后台/webpack2/src/components/goods/list.vue"],names:[],mappings:"AACA,MACE,6BAA8B,AAC9B,kBAAoB,CACrB,AACD,4BACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,eAAiB,CAClB,AACD,kBACE,yBAA2B,AAC3B,yBAA4B,CAC7B,AACD,kBACE,2BAA6B,AAC7B,yBAA4B,CAC7B,AACD,kCACE,oBAAsB,CACvB,AACD,sBACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,QACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB",file:"list.vue",sourcesContent:["\n.line {\n  border-bottom: 1px solid #ccc;\n  margin-bottom: 12px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  background: #fbfdff;\n  position: relative;\n  overflow: hidden;\n}\n.sector .el-col-7 {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.sector .el-col-1 {\n  padding-left: 2px !important;\n  padding-right: 0 !important;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 148px;\n  height: 148px;\n  line-height: 148px;\n  text-align: center;\n}\n.avatar {\n  width: 148px;\n  height: 148px;\n  display: block;\n}"],sourceRoot:""}])},677:function(e,t,i){var o=i(652);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(563)("3c6b7c51",o,!0,{})},702:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-form",{attrs:{inline:!0,model:e.filters}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"搜索"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.filterData}},[e._v("查询")])],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.topics,"highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"cid",label:"货号",align:"center",width:"230"}}),e._v(" "),i("el-table-column",{attrs:{prop:"firstCategory",label:"一级类别",align:"center",width:"230"}}),e._v(" "),i("el-table-column",{attrs:{prop:"secondCategory",label:"二级类别",align:"center",width:"230"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"物品名称",align:"center",width:"140"}}),e._v(" "),i("el-table-column",{attrs:{label:"单价",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(String(t.row.price).split("-")[1]?String(t.row.price).split("-")[1].split(",")[0]:t.row.price)+"\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"shelvesTime",label:"上架时间",align:"center",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{label:"有效天数",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.validTime)+"天\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rules.indexOf("01020101")>=0,expression:"rules.indexOf('01020101') >= 0"}],attrs:{type:"info",size:"small"},on:{click:function(i){e.handelShow(t.row)}}},[e._v("查看\n        ")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rules.indexOf("01020203")>=0,expression:"rules.indexOf('01020203') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(i){e.handleEdit(t.row)}}},[e._v("修改\n        ")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rules.indexOf("01020102")>=0,expression:"rules.indexOf('01020102') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(i){e.handleOutLine(t.row)}}},[e._v("下架\n        ")])]}}])})],1),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"toolbar",attrs:{span:24}},[i("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.page,"page-size":e.pageSize,total:e.total*e.pageSize},on:{"update:currentPage":function(t){e.page=t},"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"查看","close-on-click-modal":!1},model:{value:e.showFormVisible,callback:function(t){e.showFormVisible=t},expression:"showFormVisible"}},[i("el-form",{attrs:{model:e.showForm,"label-width":"120px"}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showForm.img.length,expression:"showForm.img.length"}],attrs:{label:"图片："}},[i("div",{staticClass:"block",staticStyle:{width:"300px",height:"300px"}},[i("el-carousel",{attrs:{trigger:"click"}},e._l(e.showForm.img,function(e,t){return i("el-carousel-item",{key:t},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url}})])}))],1)]),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.showForm.img.length,expression:"!showForm.img.length"}],attrs:{label:"视频："}},[i("video",{attrs:{src:e.showForm.video.url,controls:""}})]),e._v(" "),i("el-form-item",{attrs:{label:"名字："}},[i("div",[e._v(e._s(e.showForm.name))])]),e._v(" "),i("el-form-item",{attrs:{label:"价格："}},[i("div",[e._v(e._s(String(e.showForm.price).split("-")[1]?String(e.showForm.price).split("-")[1].split(",")[0]:e.showForm.price))])]),e._v(" "),i("el-form-item",{attrs:{label:"颜色："}},[i("div",[e._v(e._s(e.showForm.color))])]),e._v(" "),i("el-form-item",{attrs:{label:"尺寸："}},[i("div",[e._v(e._s(e.showForm.size))])])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"修改","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[i("el-row",{attrs:{gutter:24}},[i("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px",rules:e.rulesEdit}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[i("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticClass:"sector",attrs:{label:"商品数量区段",prop:"pcnumber"}},[i("el-col",{attrs:{span:7}},[i("el-input",{attrs:{disabled:!0},model:{value:e.editForm.pcnumber[0],callback:function(t){e.$set(e.editForm.pcnumber,0,t)},expression:"editForm.pcnumber[0]"}})],1),e._v(" "),i("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-input",{model:{value:e.editForm.pcnumber[1],callback:function(t){e.$set(e.editForm.pcnumber,1,t)},expression:"editForm.pcnumber[1]"}})],1),e._v(" "),i("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-input",{model:{value:e.editForm.pcnumber[2],callback:function(t){e.$set(e.editForm.pcnumber,2,t)},expression:"editForm.pcnumber[2]"}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"上架天数",prop:"validTime"}},[i("el-input",{model:{value:e.editForm.validTime,callback:function(t){e.$set(e.editForm,"validTime",t)},expression:"editForm.validTime"}},[i("template",{slot:"append"},[e._v("天")])],2)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticClass:"sector",attrs:{label:"商品单价区段",prop:"pcprice"}},[i("el-col",{attrs:{span:7}},[i("el-input",{model:{value:e.editForm.pcprice[0],callback:function(t){e.$set(e.editForm.pcprice,0,t)},expression:"editForm.pcprice[0]"}})],1),e._v(" "),i("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-input",{model:{value:e.editForm.pcprice[1],callback:function(t){e.$set(e.editForm.pcprice,1,t)},expression:"editForm.pcprice[1]"}})],1),e._v(" "),i("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),i("el-col",{attrs:{span:7}},[i("el-input",{model:{value:e.editForm.pcprice[2],callback:function(t){e.$set(e.editForm.pcprice,2,t)},expression:"editForm.pcprice[2]"}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"圈口",prop:"size"}},[i("el-input",{attrs:{type:"number"},model:{value:e.editForm.size,callback:function(t){e.$set(e.editForm,"size",t)},expression:"editForm.size"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"商品颜色",prop:"color"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.color,callback:function(t){e.$set(e.editForm,"color",t)},expression:"editForm.color"}},e._l(e.colorOption,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"一级类别",prop:"firstId"}},[i("el-select",{ref:"firstSelect",attrs:{placeholder:"请选择"},on:{change:e.firstCate},model:{value:e.firstCategory,callback:function(t){e.firstCategory=t},expression:"firstCategory"}},e._l(e.firstCategoryOption,function(e){return i("el-option",{key:e.firstId,attrs:{label:e.name,value:e.firstId}})}))],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"二级类别",prop:"secondId"}},[i("el-select",{attrs:{"data-oldId":e.editForm.secondId,placeholder:"请先选择一级类别"},model:{value:e.secondCategory,callback:function(t){e.secondCategory=t},expression:"secondCategory"}},e._l(e.sectionCategoryOption,function(e){return i("el-option",{key:e.secondId,attrs:{label:e.name,value:e.secondId}})}))],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"是否上架"}},[i("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[e._v("上架")]),e._v(" "),i("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[e._v("下架")])],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"商品描述",prop:"standarddcscribe"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:"请输入内容"},model:{value:e.editForm.standarddcscribe,callback:function(t){e.$set(e.editForm,"standarddcscribe",t)},expression:"editForm.standarddcscribe"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"视频/图片",prop:"principal"}},[i("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.videoOrPhotos,callback:function(t){e.videoOrPhotos=t},expression:"videoOrPhotos"}},[e._v("图片")]),e._v(" "),i("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.videoOrPhotos,callback:function(t){e.videoOrPhotos=t},expression:"videoOrPhotos"}},[e._v("视频")])],1)],1),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:0==e.videoOrPhotos,expression:"videoOrPhotos == 0"}],attrs:{span:24}},[i("el-form-item",{attrs:{label:"商品图片"}},[i("div",{staticStyle:{color:"#f00","font-weight":"600"}},[e._v("请上传750px * 750px 以上比例商品图片，图片和视频选一即可。")]),e._v(" "),i("el-upload",{attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","list-type":"picture-card","on-success":e.handleSuccess,multiple:"","before-upload":e.beforeUpload,"file-list":e.imgList,name:"image","on-remove":e.handleRemove}},[i("i",{staticClass:"el-icon-plus"})]),e._v(" "),i("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoOrPhotos,expression:"videoOrPhotos != 0"}],attrs:{span:24}},[i("el-form-item",{attrs:{label:"商品视频",prop:"principal"}},[i("div",{staticStyle:{color:"#f00","font-weight":"600"}},[e._v("请上传播放时间为30s的商品视频，图片和视频选一即可")]),e._v(" "),i("el-upload",{staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{drag:"",action:e.uploadServer+"/jade/image/uploadVideo.action",name:"image",fileList:e.fileList,"before-upload":e.beforeVideoUpload,"on-success":e.handleSuccessVideo}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传mp4文件，且不超过50MB")])]),e._v(" "),e.videoUrl?i("video",{staticClass:"avatar",attrs:{src:e.videoUrl,controls:""}}):e._e()],1)],1),e._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoOrPhotos,expression:"videoOrPhotos != 0"}],attrs:{span:24}},[i("el-form-item",{attrs:{label:"视频封面"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","show-file-list":!1,name:"image","on-success":e.handleVideoPostSuccess}},[e.videoPostUrl?i("img",{staticClass:"avatar",attrs:{src:e.videoPostUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"图文描述",prop:"imageText"}},[i("el-upload",{attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","list-type":"picture-card","on-success":e.handleSuccess2,name:"image",multiple:"","file-list":e.imgTextList,"on-remove":e.handleRemove2}},[i("i",{staticClass:"el-icon-plus"})]),e._v(" "),i("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"footer",staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editAction(t)}}},[e._v("修改")])],1),e._v(" "),i("el-row",{staticStyle:{"padding-bottom":"0px"},attrs:{gutter:24}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=15.1a0a660b03ce843dfdd2.js.map