webpackJsonp([14],{578:function(e,t,o){function i(e){o(678)}var a=o(41)(o(633),o(703),i,null,null);e.exports=a.exports},593:function(e,t,o){e.exports={default:o(594),__esModule:!0}},594:function(e,t,o){var i=o(28),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},600:function(e,t,o){"use strict";o.d(t,"f",function(){return l}),o.d(t,"i",function(){return c}),o.d(t,"a",function(){return d}),o.d(t,"b",function(){return p}),o.d(t,"g",function(){return m}),o.d(t,"e",function(){return u}),o.d(t,"n",function(){return g}),o.d(t,"o",function(){return h}),o.d(t,"c",function(){return f}),o.d(t,"l",function(){return v}),o.d(t,"m",function(){return y}),o.d(t,"j",function(){return C}),o.d(t,"k",function(){return b}),o.d(t,"q",function(){return w}),o.d(t,"r",function(){return F}),o.d(t,"d",function(){return _}),o.d(t,"h",function(){return x}),o.d(t,"p",function(){return A});var i=o(74),a=o.n(i),s=o(228),r=o.n(s),n=o(227),l=function(e){return r.a.post(n.a+"/jade/commodityManage/selectCommosityByCid.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},c=function(){return r.a.post(n.a+"/jade/commodityManage/getCommodityList.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},d=function(){return r.a.post(n.a+"/jade/commodityManage/getCommoditysoldOut.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},p=function(e){return r.a.post(n.a+"/jade/commodityManage/soldOutAndPutAway.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},m=function(e){return r.a.post(n.a+"/jade/commodityManage/delCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},u=function(e){return r.a.post(n.a+"/jade/commodityManage/getSecondByFirst.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},g=function(e){return r.a.post(n.a+"/jade/commodityManage/addCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},h=function(e){return r.a.post(n.a+"/jade/commodityManage/addSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},f=function(e){return r.a.post(n.a+"/jade/commodityManage/getFirstCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},v=function(e){return r.a.post(n.a+"/jade/commodityManage/delCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},y=function(e){return r.a.post(n.a+"/jade/commodityManage/delSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},C=function(e){return r.a.post(n.a+"/jade/commodityManage/getAllSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},b=function(e){return r.a.post(n.a+"/jade/commodityManage/addSecondByFirst.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},w=function(e){return r.a.post(n.a+"/jade/commodityManage/updateSecond.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},F=function(e){return r.a.post(n.a+"/jade/commodityManage/addCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},_=function(e){return r.a.post(n.a+"/jade/commodity/getCondition.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},x=function(e){return r.a.post(n.a+"/jade/commodityManage/updataCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},A=function(e){return r.a.post(n.a+"/jade/commodityManage/updateCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})}},633:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(146),a=o.n(i),s=o(593),r=o.n(s),n=o(600),l=o(100),c=o(227);t.default={data:function(){return{filters:{name:""},totalData:[],topics:[],total:0,page:1,pageSize:10,uploadServer:c.b,server:c.a,listLoading:!1,showFormVisible:!1,showLoading:!1,showForm:{cid:"",color:"",name:"",price:"",pcnumber:["","",""],pcprice:["","",""],sid:"",size:"",img:[{name:"",url:""}],video:{name:"",url:""}},editFormVisible:!1,editLoading:!1,dialogImageUrl:"",value:"",videoOrPhotos:"",dialogVisible:!1,firstCategoryOption:[],firstCategory:"",sectionCategoryOption:[],sectionCategoryOptionFlag:!0,secondCategory:"",waterOption:[],colorOption:[],editForm:{name:"",size:"",price:"",pcnumber:["0","",""],pcprice:["","",""],firstId:"",secondId:"",water:"",color:"",describe:"",imageText:"",img:"",video:"",status:"0"},rules:{firstId:[{required:!0,message:"请输入一级类别",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],size:[{required:!0,message:"请输入圈口",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{min:1,max:8,message:"不能超过8位数",trigger:"blur"}],water:[{required:!0,message:"请选择种水",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],standarddcscribe:[{required:!0,message:"请输入内容",trigger:"change"}],imageText:[{required:!0,message:"请插入图文",trigger:"change"}]},roles:sessionStorage.getItem("rules"),sid:o.i(l.a)(),imgList:[],videoPostUrl:"",videoUrl:"",fileList:[],imgTextList:[],uploadVideoPost:"",videoLoading:!1,importsVisible:!1}},methods:{getTopics:function(){var e=this;this.listLoading=!0,o.i(n.a)().then(function(t){t.success?e.setTopics(t.result.data):e.$confirm(t.result.error,"提示",{type:"warning"}).then(function(){}),e.listLoading=!1})},setTopics:function(e){this.totalData=e.reverse(),this.total=Math.ceil(this.totalData.length/10),this.topics=e.slice(this.page-1,10)},filterData:function(){var e=this,t=[];o.i(n.a)().then(function(o){if(o.success){if(e.setTopics(o.result.data),!e.filters.name)return;e.totalData.map(function(o,i){for(var a in o)if(t.indexOf(a)<0){var s=o[a]+"";if(s.indexOf(e.filters.name)>=0){t.push(o);break}}}),e.setTopics(t)}})},handleCurrentChange:function(e){this.page=e;for(var t=[],o=10*(e-1);o<10*e;o++)this.totalData[o]&&t.push(this.totalData[o]);this.topics=t},handleOutLine:function(e){var t=this;this.$confirm("确认上架吗?","提示",{type:"success"}).then(function(){t.listLoading=!0;var i=r()({cid:e.cid});o.i(n.b)(i).then(function(e){t.listLoading=!1,e.success?t.$message({message:"上架成功",type:"success"}):t.$message.error("上架失败"),t.getTopics()})}).catch(function(){})},handleEdit:function(e){var t=this;this.listLoading=!0,this.sectionCategoryOptionFlag=!0,o.i(n.c)({}).then(function(i){t.firstCategoryOption=i.result.data,o.i(n.d)().then(function(o){t.imgList=[],t.videoUrl="",t.videoPostUrl="",t.uploadVideoPost="",t.imgTextList=[],t.waterOption=o.result.water,t.colorOption=o.result.color,a()(t.editForm,e,{status:"1"}),e.figuredescribe&&e.figuredescribe.map(function(e){t.imgTextList.push({name:e.key,url:e.url})});var i=t.editForm.price.split("-")[0].split(","),s=t.editForm.price.split("-")[1].split(",");t.editForm.pcnumber=i,t.editForm.pcprice=s,t.editForm.color=e.color,"0"!==e.isNoPackagemaill?(t.videoUrl=e.isNoPackagemaill[0].url,t.videoPostUrl=e.isNoPackagemaill[1].url,t.editForm.video=e.isNoPackagemaill[0].key,t.uploadVideoPost=e.isNoPackagemaill[1].key,e.commodityImg&&e.commodityImg.map(function(e){t.imgList.push({name:e.key,url:e.url})})):e.commodityImg.map(function(e){t.imgList.push({name:e.key,url:e.url})}),t.videoOrPhotos=t.editForm.videoOrPhotos,t.firstCategory=t.editForm.firstCategory,t.secondCategory=t.editForm.secondCategory||"其它",t.fileList=[],t.firstCate(t.firstCategory),t.editFormVisible=!0,t.listLoading=!1})})},firstCate:function(e){var t=this;if(!e)return!1;e===this.editForm.firstCategory&&(e=this.editForm.firstId);var i={firstId:e};o.i(n.e)(i).then(function(e){if(t.sectionCategoryOption=e.result.data,t.sectionCategoryOptionFlag=!1,"其它"===t.sectionCategoryOption[0].name||"其他"===t.sectionCategoryOption[0].name)t.secondCategory=t.sectionCategoryOption[0].name;else{for(var o=!1,i=0;i<t.sectionCategoryOption.length;i++)t.secondCategory===t.sectionCategoryOption[i].name&&(o=!0);t.secondCategory=o?t.editForm.secondCategory:t.sectionCategoryOption[0].name}})},getFirst:function(){var e=this;this.listLoading=!0,o.i(n.c)({}).then(function(t){e.firstCategoryOption=t.result.data,e.listLoading=!1})},handleShow:function(e){var t=this;this.listLoading=!0;var i=r()({cid:e.cid});o.i(n.f)(i).then(function(e){a()(t.showForm,{img:[],video:{}},e.result),t.showFormVisible=!0,t.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var i=r()({cid:e.cid});o.i(n.g)(i).then(function(e){t.listLoading=!1,e.success?t.$message({message:"删除成功",type:"success"}):t.$message.error("删除失败"),t.handleCurrentChange(1),t.getTopics()})}).catch(function(){})},beforeUpload:function(e){return e.size>6291456?(this.$message({type:"error",message:"图片不可以超过6MB一张",duration:1e3}),!1):this.imgList.length>8?(this.$message({type:"error",message:"最多上传9张图片",duration:1e3}),!1):void 0},handleSuccess:function(e,t,o){this.imgList=o},handleRemove:function(e,t){this.imgList=t},handleSuccess2:function(e,t,o){this.imgTextList=o},handleRemove2:function(e,t){this.imgTextList=t},editAction:function(){var e=this;if("1"===this.videoOrPhotos){if(!this.editForm.video)return void this.$message({showClose:!0,message:"请选择要上传的视频",type:"error"});if(!this.uploadVideoPost)return void this.$message.error("请先上传视频封面");this.editForm.video.indexOf(".mp4")>0&&(this.editForm.video=this.editForm.video.slice(0,-4)),this.editForm.isNoPackagemaill=this.editForm.video+","+this.uploadVideoPost;var t=[];this.imgList.length&&this.imgList.map(function(e){e.name?t.push(e.name):t.push(e.response.result.key)}),this.editForm.commodityImg=t.toString()}else{var i=[];this.imgList.map(function(e,t){t<9&&(e.response?i.push(e.response.result.key):i.push(e.name))}),this.editForm.commodityImg=i.join(","),this.editForm.video.indexOf(".mp4")>0&&(this.editForm.video=this.editForm.video.slice(0,-4)),this.uploadVideoPost?this.editForm.isNoPackagemaill=this.editForm.video+","+this.uploadVideoPost:"0"!==this.editForm.isNoPackagemaill?this.editForm.isNoPackagemaill=this.editForm.video+","+this.editForm.video[1].key:this.editForm.isNoPackagemaill="0"}var a=[];if(this.imgTextList.map(function(e,t){e.response?a.push(e.response.result.key):a.push(e.name)}),this.editForm.figuredescribe=a.join(","),this.editLoading=!0,this.editForm.size=(this.editForm.size-0).toFixed("1"),this.editForm.videoOrPhotos=this.videoOrPhotos,this.editForm.firstId=this.firstCategory===this.editForm.firstCategory?this.editForm.firstId:this.firstCategory,this.secondCategory===this.sectionCategoryOption[0].name)this.editForm.secondId=this.sectionCategoryOption[0].secondId;else if("其它"===this.secondCategory||"其他"===this.secondCategory)this.editForm.secondId=this.sectionCategoryOption[0].secondId;else{for(var s=!1,l=0;l<this.sectionCategoryOption.length;l++)this.secondCategory===this.sectionCategoryOption[l].name&&(s=!0);s||(this.editForm.secondId=this.secondCategory)}this.editForm.price=this.editForm.pcnumber.join(",")+"-"+this.editForm.pcprice.join(",");var c=r()(this.editForm);o.i(n.h)(c).then(function(t){e.editLoading=!1,t.success?e.$message({message:"更新成功",type:"success"}):e.$message.error(t.result.error),e.editFormVisible=!1,e.getTopics(),e.handleCurrentChange(e.page)})},beforeVideoUpload:function(e){var t="video/mp4"===e.type,o=e.size/1024/1024<50;return t||this.$message.error("上传视频只能是MP4格式!"),o||this.$message.error("上传视频大小不能超过 50MB!"),t&&o&&(this.videoLoading=!0),t&&o},handleSuccessVideo:function(e,t){this.videoLoading=!1,this.videoUrl=t.url,this.editForm.video=e.result.key,this.editForm.img=""},handleImportSuccess:function(e){e.success?(this.$message({message:"恭喜你 上传成功!!!",type:"success"}),this.getTopics()):this.$message.error("上传失败"),this.importsVisible=!1},submitUpload:function(){this.$refs.upload.submit()},handleImportRemove:function(){},handleVideoPostSuccess:function(e,t){this.uploadVideoPost=e.result.key,this.videoPostUrl=t.url},imports:function(){this.importsVisible=!0},beforeImport:function(e){if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===!e.type)return void this.$message.error("只能上传xlsx文件")}},mounted:function(){this.getTopics()}}},653:function(e,t,o){t=e.exports=o(562)(!0),t.push([e.i,".add{width:800px}.add .footer{text-align:center}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;background:#fbfdff;position:relative;overflow:hidden}.sector .el-col-7{padding-left:0!important;padding-right:0!important}.sector .el-col-1{padding-left:2px!important;padding-right:0!important}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:148px;height:148px;line-height:148px;text-align:center}.avatar{width:148px;height:148px;display:block}","",{version:3,sources:["D:/个人信息/2018-11-3/翡翠后台/webpack2/src/components/goods/store.vue"],names:[],mappings:"AACA,KACE,WAAa,CACd,AACD,aACE,iBAAmB,CACpB,AACD,4BACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,eAAiB,CAClB,AACD,kBACE,yBAA2B,AAC3B,yBAA4B,CAC7B,AACD,kBACE,2BAA6B,AAC7B,yBAA4B,CAC7B,AACD,kCACE,oBAAsB,CACvB,AACD,sBACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,QACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB",file:"store.vue",sourcesContent:["\n.add {\n  width: 800px;\n}\n.add .footer {\n  text-align: center;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  background: #fbfdff;\n  position: relative;\n  overflow: hidden;\n}\n.sector .el-col-7 {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.sector .el-col-1 {\n  padding-left: 2px !important;\n  padding-right: 0 !important;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 148px;\n  height: 148px;\n  line-height: 148px;\n  text-align: center;\n}\n.avatar {\n  width: 148px;\n  height: 148px;\n  display: block;\n}"],sourceRoot:""}])},678:function(e,t,o){var i=o(653);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o(563)("0a0e0cda",i,!0,{})},703:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[o("el-form",{attrs:{inline:!0,model:e.filters}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"搜索"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.filterData}},[e._v("查询")])],1),e._v(" "),o("div",{staticClass:"block",staticStyle:{float:"right","margin-right":"10px"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.imports}},[e._v("批量导入")])],1)],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.topics,"highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"cid",label:"货号",align:"center",width:"230"}}),e._v(" "),o("el-table-column",{attrs:{prop:"firstCategory",label:"一级类别",align:"center",width:"130"}}),e._v(" "),o("el-table-column",{attrs:{prop:"secondCategory",label:"二级类别",align:"center",width:"130"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"物品名称",align:"center",width:"140"}}),e._v(" "),o("el-table-column",{attrs:{label:"单价",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(String(t.row.price).split("-")[1]?String(t.row.price).split("-")[1].split(",")[0]:t.row.price)+"\n      ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"新增时间",align:"center",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"有效天数",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.validTime)+"天\n      ")]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.roles.indexOf("01020201")>=0,expression:"roles.indexOf('01020201') >= 0"}],attrs:{type:"info",size:"small"},on:{click:function(o){e.handleShow(t.row)}}},[e._v("查看\n        ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.roles.indexOf("01020202")>=0,expression:"roles.indexOf('01020202') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(o){e.handleOutLine(t.row)}}},[e._v("上架\n        ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.roles.indexOf("01020203")>=0,expression:"roles.indexOf('01020203') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(o){e.handleEdit(t.row)}}},[e._v("修改\n        ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.roles.indexOf("01020204")>=0,expression:"roles.indexOf('01020204') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(o){e.handleDel(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"toolbar",attrs:{span:24}},[o("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.page,"page-size":e.pageSize,total:e.total*e.pageSize},on:{"update:currentPage":function(t){e.page=t},"current-change":e.handleCurrentChange}})],1),e._v(" "),o("el-dialog",{attrs:{title:"查看","close-on-click-modal":!1},model:{value:e.showFormVisible,callback:function(t){e.showFormVisible=t},expression:"showFormVisible"}},[o("el-form",{attrs:{model:e.showForm,"label-width":"120px"}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showForm.img.length,expression:"showForm.img.length"}],attrs:{label:"图片："}},[o("div",{staticClass:"block",staticStyle:{width:"300px",height:"300px"}},[o("el-carousel",{attrs:{trigger:"click"}},e._l(e.showForm.img,function(e,t){return o("el-carousel-item",{key:t},[o("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url}})])}))],1)]),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.showForm.img.length,expression:"!showForm.img.length"}],attrs:{label:"视频："}},[o("video",{attrs:{src:e.showForm.video.url,controls:""}})]),e._v(" "),o("el-form-item",{attrs:{label:"名字："}},[o("div",[e._v(e._s(e.showForm.name))])]),e._v(" "),o("el-form-item",{attrs:{label:"价格："}},[o("div",[e._v(e._s(String(e.showForm.price).split("-")[1]?String(e.showForm.price).split("-")[1].split(",")[0]:e.showForm.price))])]),e._v(" "),o("el-form-item",{attrs:{label:"颜色："}},[o("div",[e._v(e._s(e.showForm.color))])]),e._v(" "),o("el-form-item",{attrs:{label:"尺寸："}},[o("div",[e._v(e._s(e.showForm.size))])])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"修改","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[o("el-row",{attrs:{gutter:24}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px",rules:e.rules}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[o("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"sector",attrs:{label:"商品数量区段",prop:"pcnumber"}},[o("el-col",{attrs:{span:7}},[o("el-input",{attrs:{disabled:!0},model:{value:e.editForm.pcnumber[0],callback:function(t){e.$set(e.editForm.pcnumber,0,t)},expression:"editForm.pcnumber[0]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:7}},[o("el-input",{model:{value:e.editForm.pcnumber[1],callback:function(t){e.$set(e.editForm.pcnumber,1,t)},expression:"editForm.pcnumber[1]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:7}},[o("el-input",{model:{value:e.editForm.pcnumber[2],callback:function(t){e.$set(e.editForm.pcnumber,2,t)},expression:"editForm.pcnumber[2]"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"上架天数",prop:"validTime"}},[o("el-input",{model:{value:e.editForm.validTime,callback:function(t){e.$set(e.editForm,"validTime",t)},expression:"editForm.validTime"}},[o("template",{slot:"append"},[e._v("天")])],2)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"sector",attrs:{label:"商品单价区段",prop:"pcprice"}},[o("el-col",{attrs:{span:7}},[o("el-input",{model:{value:e.editForm.pcprice[0],callback:function(t){e.$set(e.editForm.pcprice,0,t)},expression:"editForm.pcprice[0]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:7}},[o("el-input",{model:{value:e.editForm.pcprice[1],callback:function(t){e.$set(e.editForm.pcprice,1,t)},expression:"editForm.pcprice[1]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:7}},[o("el-input",{model:{value:e.editForm.pcprice[2],callback:function(t){e.$set(e.editForm.pcprice,2,t)},expression:"editForm.pcprice[2]"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"圈口",prop:"size"}},[o("el-input",{attrs:{type:"number"},model:{value:e.editForm.size,callback:function(t){e.$set(e.editForm,"size",t)},expression:"editForm.size"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"商品颜色",prop:"color"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.color,callback:function(t){e.$set(e.editForm,"color",t)},expression:"editForm.color"}},e._l(e.colorOption,function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"一级类别",prop:"firstId"}},[o("el-select",{ref:"firstSelect",attrs:{placeholder:"请选择"},on:{change:e.firstCate},model:{value:e.firstCategory,callback:function(t){e.firstCategory=t},expression:"firstCategory"}},e._l(e.firstCategoryOption,function(e){return o("el-option",{key:e.firstId,attrs:{label:e.name,value:e.firstId}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"二级类别",prop:"secondId"}},[o("el-select",{attrs:{"data-oldId":e.editForm.secondId,placeholder:"请先选择一级类别"},model:{value:e.secondCategory,callback:function(t){e.secondCategory=t},expression:"secondCategory"}},e._l(e.sectionCategoryOption,function(e){return o("el-option",{key:e.secondId,attrs:{label:e.name,value:e.secondId}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"是否上架"}},[o("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[e._v("上架")]),e._v(" "),o("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[e._v("下架")])],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"商品描述",prop:"standarddcscribe"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:"请输入内容"},model:{value:e.editForm.standarddcscribe,callback:function(t){e.$set(e.editForm,"standarddcscribe",t)},expression:"editForm.standarddcscribe"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"视频/图片",prop:"principal"}},[o("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.videoOrPhotos,callback:function(t){e.videoOrPhotos=t},expression:"videoOrPhotos"}},[e._v("图片")]),e._v(" "),o("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.videoOrPhotos,callback:function(t){e.videoOrPhotos=t},expression:"videoOrPhotos"}},[e._v("视频")])],1)],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:0==e.videoOrPhotos,expression:"videoOrPhotos == 0"}],attrs:{span:24}},[o("el-form-item",{attrs:{label:"商品图片"}},[o("div",{staticStyle:{color:"#f00","font-weight":"600"}},[e._v("请上传750px * 750px 以上比例商品图片，图片和视频选一即可。")]),e._v(" "),o("el-upload",{attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","list-type":"picture-card","on-success":e.handleSuccess,multiple:"","before-upload":e.beforeUpload,"file-list":e.imgList,name:"image","on-remove":e.handleRemove}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[o("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoOrPhotos,expression:"videoOrPhotos != 0"}],attrs:{span:24}},[o("el-form-item",{attrs:{label:"商品视频",prop:"principal"}},[o("div",{staticStyle:{color:"#f00","font-weight":"600"}},[e._v("请上传播放时间为30s的商品视频，图片和视频选一即可")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{drag:"",action:e.uploadServer+"/jade/image/uploadVideo.action",name:"image",fileList:e.fileList,"before-upload":e.beforeVideoUpload,"on-success":e.handleSuccessVideo}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),o("em",[e._v("点击上传")])]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传mp4文件，且不超过50MB")])]),e._v(" "),e.videoUrl?o("video",{staticClass:"avatar",attrs:{src:e.videoUrl,controls:""}}):e._e()],1)],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoOrPhotos,expression:"videoOrPhotos != 0"}],attrs:{span:24}},[o("el-form-item",{attrs:{label:"视频封面"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","show-file-list":!1,name:"image","on-success":e.handleVideoPostSuccess}},[e.videoPostUrl?o("img",{staticClass:"avatar",attrs:{src:e.videoPostUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"图文描述",prop:"imageText"}},[o("el-upload",{attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","list-type":"picture-card","on-success":e.handleSuccess2,name:"image",multiple:"","file-list":e.imgTextList,"on-remove":e.handleRemove2}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[o("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"footer",staticStyle:{"text-align":"center"}},[o("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editAction(t)}}},[e._v("修改")])],1),e._v(" "),o("el-row",{staticStyle:{"padding-bottom":"0px"},attrs:{gutter:24}})],1),e._v(" "),o("el-dialog",{attrs:{title:"批量导入",size:"tiny","close-on-click-modal":!1},model:{value:e.importsVisible,callback:function(t){e.importsVisible=t},expression:"importsVisible"}},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"file",action:e.uploadServer+"/jade/commodityManage/saveDoc.action?sid="+e.sid,withCredentials:!0,"before-upload":e.beforeImport,"on-success":e.handleImportSuccess,"on-remove":e.handleImportRemove,"auto-upload":!1}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),o("a",{staticStyle:{color:"#fff"},attrs:{href:e.server+"/jade/commodityManage/downExcel.action",target:"_blank"}},[o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"}},[e._v("下载模板")])],1),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("可以上传xlsx2003和2007版本的文件但不要强制修改后缀名否则会导致版本冲突")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=14.1ba48e2de6eb44a5796f.js.map