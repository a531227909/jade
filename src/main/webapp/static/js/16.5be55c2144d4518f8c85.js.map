{"version":3,"sources":["webpack:///static/js/16.5be55c2144d4518f8c85.js","webpack:///./src/components/rule/add.vue","webpack:///./~/_babel-runtime@6.25.0@babel-runtime/core-js/json/stringify.js?c1ba*************","webpack:///./~/_core-js@2.5.0@core-js/library/fn/json/stringify.js?746a*************","webpack:///./src/api/authority.js?f674*","webpack:///add.vue?ada1","webpack:///./src/components/rule/add.vue?7611"],"names":["webpackJsonp","571","module","exports","__webpack_require__","Component","573","default","__esModule","574","core","$JSON","JSON","stringify","it","apply","arguments","579","__webpack_exports__","d","selectAgent","getAgentBySid","setUserNumber","cancelAgent","activationAgent","delAgent","getUserMessage","addAgent","updateAgent","getAllAuthority","addRole","updateRole","getRoleList","delRole","getRoleAuthority","authorityOfDistribution","addAgentAccount","delUser","addUser","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_2__config__","a","post","withCredentials","headers","Content-Type","then","res","resolve","data","err","console","log","params","628","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2_api_authority__","ruleForm","roleName","comment","rulesFrom","required","message","trigger","rules","defaultProps","children","label","methods","handleCreate","_this","this","ruls","child","$refs","tree","getCheckedNodes","i","length","push","id","map","item","index","temp","slice","some","indexOf","removeDuplicatedItem","listLoading","validate","valid","ret","join","success","$confirm","type","$router","result","error","ar","j","created","_this2","676","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","label-width","prop","callback","$$v","expression","_v","show-checkbox","default-expand-all","node-key","highlight-current","props","on","click","staticRenderFns"],"mappings":"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","file":"static/js/16.5be55c2144d4518f8c85.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ 571:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(38)(\n  /* script */\n  __webpack_require__(628),\n  /* template */\n  __webpack_require__(676),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 573:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(574), __esModule: true };\n\n/***/ }),\n\n/***/ 574:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(39);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n\n/***/ 579:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return selectAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return getAgentBySid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return setUserNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return cancelAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return activationAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return delAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return getUserMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return addAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return updateAgent; });\n/* unused harmony export agentPerformance */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getAllAuthority; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return addRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return updateRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getRoleList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return delRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getRoleAuthority; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return authorityOfDistribution; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return addAgentAccount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return delUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return addUser; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(65);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(212);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config__ = __webpack_require__(211);\n\n\n\n\n// 查询所有代理商\nvar selectAgent = function selectAgent() {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/selectAgent.action', {}, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid查询所有代理商用户\nvar getAgentBySid = function getAgentBySid(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/getAgentBySid.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid设置代理商用户数量\nvar setUserNumber = function setUserNumber(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/setUserNumber.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid注销代理商(同时将账号，商品下架)\nvar cancelAgent = function cancelAgent(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/cancelAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid激活代理商(同时将账号激活，商品需手动上架)\nvar activationAgent = function activationAgent(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/activationAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid删除代理商(同时将账号，商品删除，代理商需先注销才可删除)\nvar delAgent = function delAgent(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/delAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid查询所有代理商用户\nvar getUserMessage = function getUserMessage(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/getUserMessage.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 添加代理商\nvar addAgent = function addAgent(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/addAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 更新代理商\nvar updateAgent = function updateAgent(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/updateAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 根据sid查询业绩\nvar agentPerformance = function agentPerformance(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/agentPerformance.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n// 获取所有权限\nvar getAllAuthority = function getAllAuthority(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/getAllAuthority.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n// 添加角色\nvar addRole = function addRole(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/addRole.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n// 更新角色\nvar updateRole = function updateRole(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/updateRole.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n// 获取角色列表\nvar getRoleList = function getRoleList(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/getRoleList.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\nvar delRole = function delRole(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/delRole.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\nvar getRoleAuthority = function getRoleAuthority(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/getRoleAuthority.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\nvar authorityOfDistribution = function authorityOfDistribution(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/authorityOfDistribution.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n// 添加代理商账号\nvar addAgentAccount = function addAgentAccount(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/agent/addAgentAccount.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n// 删除用户\nvar delUser = function delUser(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/DelUser.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n// 添加用户\nvar addUser = function addUser(params) {\n  return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_2__config__[\"a\" /* server */] + '/jade/authority/addUser.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }, function (err) {\n    console.log(err);\n  });\n};\n\n/***/ }),\n\n/***/ 628:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(573);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(136);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_api_authority__ = __webpack_require__(579);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      ruleForm: {\n        roleName: '',\n        comment: ''\n      },\n      rulesFrom: {\n        roleName: [{ required: true, message: '请输入角色名称', trigger: 'blur' }]\n      },\n      rules: [],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      }\n    };\n  },\n\n  methods: {\n    handleCreate: function handleCreate() {\n      var _this = this;\n\n      var ruls = [];\n      var child = this.$refs.tree.getCheckedNodes();\n      for (var i = 0; i < child.length; i++) {\n        ruls.push(child[i].id);\n      }\n      ruls.map(function (item, index) {\n        if (item.length > 7) {\n          var temp = item.slice(0, 6);\n          var flag = ruls.some(function () {\n            return temp.indexOf(ruls) >= 0;\n          });\n          if (!flag) {\n            ruls.push(temp);\n            ruls.push(temp.slice(0, 4));\n          }\n        }\n      });\n      ruls = this.removeDuplicatedItem(ruls);\n      this.listLoading = true;\n      this.$refs.ruleForm.validate(function (valid) {\n        if (valid) {\n          var params = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, _this.ruleForm, {\n            data: ruls\n          });\n          var ret = [];\n          params.data.map(function (item) {\n            ret.push(item);\n          });\n          params.data = ret.join(',');\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_api_authority__[\"g\" /* addRole */])(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(params)).then(function (res) {\n            if (res.success) {\n              _this.$confirm('新建角色成功..', '提示', {\n                type: 'success'\n              }).then(function () {\n                _this.$router.push('/rule/list');\n              });\n            } else {\n              _this.$confirm(res.result.error, '提示', {\n                type: 'warning'\n              }).then(function () {\n                _this.$router.push('/rule/add');\n              });\n            }\n          });\n        }\n        _this.listLoading = false;\n      });\n    },\n    removeDuplicatedItem: function removeDuplicatedItem(ar) {\n      var ret = [];\n      for (var i = 0, j = ar.length; i < j; i++) {\n        if (ret.indexOf(ar[i]) === -1) {\n          ret.push(ar[i]);\n        }\n      }\n      return ret;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.listLoading = true;\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_api_authority__[\"b\" /* getAllAuthority */])(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({})).then(function (res) {\n      if (!res.success) {\n        _this2.$confirm(res.result.error, '提示', {\n          type: 'warning'\n        }).then(function () {});\n      } else {\n        _this2.rules = res.result.data;\n      }\n      _this2.listLoading = false;\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 676:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"ruleForm\",\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rulesFrom,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.ruleForm.roleName),\n      callback: function($$v) {\n        _vm.ruleForm.roleName = $$v\n      },\n      expression: \"ruleForm.roleName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"comment\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.ruleForm.comment),\n      callback: function($$v) {\n        _vm.ruleForm.comment = $$v\n      },\n      expression: \"ruleForm.comment\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"权限\"\n    }\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.rules,\n      \"show-checkbox\": \"\",\n      \"default-expand-all\": \"\",\n      \"node-key\": \"id\",\n      \"highlight-current\": \"\",\n      \"props\": _vm.defaultProps\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleCreate\n    }\n  }, [_vm._v(\"立即创建\")]), _vm._v(\" \"), _c('el-button', [_vm._v(\"取消\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/16.5be55c2144d4518f8c85.js","var Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./add.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01595512\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./add.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rule/add.vue\n// module id = 571\n// module chunks = 16","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.25.0@babel-runtime/core-js/json/stringify.js\n// module id = 573\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 16 18","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/fn/json/stringify.js\n// module id = 574\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 16 18","import axios from 'axios'\nimport {server} from './config'\n\n// 查询所有代理商\nexport const selectAgent = () => {\n  return axios.post(server + '/jade/agent/selectAgent.action', {}, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid查询所有代理商用户\nexport const getAgentBySid = params => {\n  return axios.post(server + '/jade/agent/getAgentBySid.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid设置代理商用户数量\nexport const setUserNumber = params => {\n  return axios.post(server + '/jade/agent/setUserNumber.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid注销代理商(同时将账号，商品下架)\nexport const cancelAgent = params => {\n  return axios.post(server + '/jade/agent/cancelAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid激活代理商(同时将账号激活，商品需手动上架)\nexport const activationAgent = params => {\n  return axios.post(server + '/jade/agent/activationAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid删除代理商(同时将账号，商品删除，代理商需先注销才可删除)\nexport const delAgent = params => {\n  return axios.post(server + '/jade/agent/delAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid查询所有代理商用户\nexport const getUserMessage = params => {\n  return axios.post(server + '/jade/agent/getUserMessage.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 添加代理商\nexport const addAgent = params => {\n  return axios.post(server + '/jade/agent/addAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 更新代理商\nexport const updateAgent = params => {\n  return axios.post(server + '/jade/agent/updateAgent.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 根据sid查询业绩\nexport const agentPerformance = params => {\n  return axios.post(server + '/jade/agent/agentPerformance.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n// 获取所有权限\nexport const getAllAuthority = params => {\n  return axios.post(server + '/jade/authority/getAllAuthority.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n// 添加角色\nexport const addRole = params => {\n  return axios.post(server + '/jade/authority/addRole.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n// 更新角色\nexport const updateRole = params => {\n  return axios.post(server + '/jade/authority/updateRole.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n// 获取角色列表\nexport const getRoleList = params => {\n  return axios.post(server + '/jade/authority/getRoleList.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\nexport const delRole = params => {\n  return axios.post(server + '/jade/authority/delRole.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\nexport const getRoleAuthority = params => {\n  return axios.post(server + '/jade/authority/getRoleAuthority.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\nexport const authorityOfDistribution = params => {\n  return axios.post(server + '/jade/authority/authorityOfDistribution.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n// 添加代理商账号\nexport const addAgentAccount = params => {\n  return axios.post(server + '/jade/agent/addAgentAccount.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n// 删除用户\nexport const delUser = params => {\n  return axios.post(server + '/jade/authority/DelUser.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n// 添加用户\nexport const addUser = params => {\n  return axios.post(server + '/jade/authority/addUser.action', params, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => {\n    return Promise.resolve(res.data)\n  }, err => {\n    console.log(err)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/authority.js","<template>\n  <el-form ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"rulesFrom\" label-width=\"80px\">\n    <el-form-item label=\"角色名称\" prop=\"roleName\">\n      <el-input v-model=\"ruleForm.roleName\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"备注\" prop=\"comment\">\n      <el-input type=\"textarea\" v-model=\"ruleForm.comment\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"权限\">\n      <el-tree :data=\"rules\" show-checkbox default-expand-all node-key=\"id\" ref=\"tree\" highlight-current :props=\"defaultProps\">\n      </el-tree>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"handleCreate\">立即创建</el-button>\n      <el-button>取消</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n<script>\nimport { getAllAuthority, addRole } from 'api/authority'\n\nexport default {\n  data () {\n    return {\n      ruleForm: {\n        roleName: '',\n        comment: ''\n      },\n      rulesFrom: {\n        roleName: [\n          { required: true, message: '请输入角色名称', trigger: 'blur' }\n        ]\n      },\n      rules: [],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      }\n    }\n  },\n  methods: {\n    handleCreate () {\n      let ruls = []\n      let child = this.$refs.tree.getCheckedNodes()\n      for (let i = 0; i < child.length; i++) {\n        ruls.push(child[i].id)\n      }\n      ruls.map(function (item, index) {\n        if (item.length > 7) {\n          let temp = item.slice(0, 6)\n          let flag = ruls.some(() => {\n            return temp.indexOf(ruls) >= 0\n          })\n          if (!flag) {\n            ruls.push(temp)\n            ruls.push(temp.slice(0, 4))\n          }\n        }\n      })\n      ruls = this.removeDuplicatedItem(ruls)\n      this.listLoading = true\n      this.$refs.ruleForm.validate((valid) => {\n        if (valid) {\n          let params = Object.assign({}, this.ruleForm, {\n            data: ruls\n          })\n          let ret = []\n          params.data.map((item) => {\n            ret.push(item)\n          })\n          params.data = ret.join(',')\n          addRole(JSON.stringify(params)).then((res) => {\n            if (res.success) {\n              this.$confirm('新建角色成功..', '提示', {\n                type: 'success'\n              }).then(() => {\n                this.$router.push('/rule/list')\n              })\n            } else {\n              this.$confirm(res.result.error, '提示', {\n                type: 'warning'\n              }).then(() => {\n                this.$router.push('/rule/add')\n              })\n            }\n          })\n        }\n        this.listLoading = false\n      })\n    },\n    removeDuplicatedItem (ar) {\n      let ret = []\n      for (let i = 0, j = ar.length; i < j; i++) {\n        if (ret.indexOf(ar[i]) === -1) {\n          ret.push(ar[i])\n        }\n      }\n      return ret\n    }\n  },\n  created () {\n    this.listLoading = true\n    getAllAuthority(JSON.stringify({})).then((res) => {\n      if (!res.success) {\n        this.$confirm(res.result.error, '提示', {\n          type: 'warning'\n        }).then(() => {\n        })\n      } else {\n        this.rules = res.result.data\n      }\n      this.listLoading = false\n    })\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// add.vue?1a724391","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"ruleForm\",\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rulesFrom,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"prop\": \"roleName\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.ruleForm.roleName),\n      callback: function($$v) {\n        _vm.ruleForm.roleName = $$v\n      },\n      expression: \"ruleForm.roleName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"comment\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.ruleForm.comment),\n      callback: function($$v) {\n        _vm.ruleForm.comment = $$v\n      },\n      expression: \"ruleForm.comment\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"权限\"\n    }\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": _vm.rules,\n      \"show-checkbox\": \"\",\n      \"default-expand-all\": \"\",\n      \"node-key\": \"id\",\n      \"highlight-current\": \"\",\n      \"props\": _vm.defaultProps\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleCreate\n    }\n  }, [_vm._v(\"立即创建\")]), _vm._v(\" \"), _c('el-button', [_vm._v(\"取消\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-01595512\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/rule/add.vue\n// module id = 676\n// module chunks = 16"],"sourceRoot":""}