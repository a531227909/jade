webpackJsonp([10],{557:function(t,e,n){function o(t){n(661)}var a=n(38)(n(614),n(685),o,null,null);t.exports=a.exports},573:function(t,e,n){t.exports={default:n(574),__esModule:!0}},574:function(t,e,n){var o=n(39),a=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},580:function(t,e,n){"use strict";n.d(e,"f",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"g",function(){return p}),n.d(e,"e",function(){return f}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return h}),n.d(e,"c",function(){return g}),n.d(e,"l",function(){return v}),n.d(e,"m",function(){return y}),n.d(e,"j",function(){return w}),n.d(e,"k",function(){return C}),n.d(e,"q",function(){return b}),n.d(e,"r",function(){return _}),n.d(e,"d",function(){return j}),n.d(e,"h",function(){return x}),n.d(e,"p",function(){return T});var o=n(65),a=n.n(o),i=n(212),r=n.n(i),s=n(211),l=function(t){return r.a.post(s.a+"/jade/commodityManage/selectCommosityByCid.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},c=function(){return r.a.post(s.a+"/jade/commodityManage/getCommodityList.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},u=function(){return r.a.post(s.a+"/jade/commodityManage/getCommoditysoldOut.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},d=function(t){return r.a.post(s.a+"/jade/commodityManage/soldOutAndPutAway.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},p=function(t){return r.a.post(s.a+"/jade/commodityManage/delCommodity.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},f=function(t){return r.a.post(s.a+"/jade/commodityManage/getSecondByFirst.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},m=function(t){return r.a.post(s.a+"/jade/commodityManage/addCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},h=function(t){return r.a.post(s.a+"/jade/commodityManage/addSecondCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},g=function(t){return r.a.post(s.a+"/jade/commodityManage/getFirstCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},v=function(t){return r.a.post(s.a+"/jade/commodityManage/delCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},y=function(t){return r.a.post(s.a+"/jade/commodityManage/delSecondCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},w=function(t){return r.a.post(s.a+"/jade/commodityManage/getAllSecondCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},C=function(t){return r.a.post(s.a+"/jade/commodityManage/addSecondByFirst.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},b=function(t){return r.a.post(s.a+"/jade/commodityManage/updateSecond.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},_=function(t){return r.a.post(s.a+"/jade/commodityManage/addCommodity.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},j=function(t){return r.a.post(s.a+"/jade/commodity/getCondition.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},x=function(t){return r.a.post(s.a+"/jade/commodityManage/updataCommodity.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})},T=function(t){return r.a.post(s.a+"/jade/commodityManage/updateCategory.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return a.a.resolve(t.data)},function(t){console.log(t)})}},614:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(136),a=n.n(o),i=n(573),r=n.n(i),s=n(580);e.default={data:function(){return{filters:{name:""},totalData:[],topics:[],total:0,rules:sessionStorage.getItem("rules"),page:1,pageSize:10,listLoading:!1,showFormVisible:!1,showLoading:!1,showForm:{cid:"",color:"",name:"",price:"",sid:"",size:"",img:[{name:"",url:""}],video:{name:"",url:""}}}},methods:{getTopics:function(){var t=this;this.listLoading=!0,n.i(s.i)().then(function(e){e.success?t.setTopics(e.result.data):t.$confirm(e.result.error,"提示",{type:"warning"}).then(function(){}),t.listLoading=!1})},setTopics:function(t){this.totalData=t.reverse(),this.total=Math.ceil(this.totalData.length/10),this.topics=t.slice(this.page-1,10)},filterData:function(){var t=this,e=[];n.i(s.i)().then(function(n){if(n.success){if(t.setTopics(n.result.data),!t.filters.name)return;t.totalData.map(function(n,o){for(var a in n)if(e.indexOf(a)<0){var i=n[a]+"";if(i.indexOf(t.filters.name)>=0){e.push(n);break}}}),t.setTopics(e)}})},handleCurrentChange:function(t){this.page=t;for(var e=[],n=10*(t-1);n<10*t;n++)this.totalData[n]&&e.push(this.totalData[n]);this.topics=e},handleOutLine:function(t){var e=this;this.$confirm("确认下架吗?","提示",{type:"warning"}).then(function(){e.listLoading=!0;var o=r()({cid:t.cid,time:t.validTime});n.i(s.b)(o).then(function(t){e.listLoading=!1,t.success?e.$message({message:"下架成功",type:"success"}):e.$message.error("下架失败"),e.handleCurrentChange(1),e.getTopics()})}).catch(function(){})},handelShow:function(t){var e=this;this.listLoading=!0;var o=r()({cid:t.cid});n.i(s.f)(o).then(function(t){a()(e.showForm,{img:[],video:{}},t.result),e.showFormVisible=!0,e.listLoading=!1})}},mounted:function(){this.getTopics()}}},639:function(t,e,n){e=t.exports=n(546)(!0),e.push([t.i,".line{border-bottom:1px solid #ccc;margin-bottom:12px}","",{version:3,sources:["C:/Users/crscr/Desktop/Projects/翡翠/Code_role/src/components/goods/list.vue"],names:[],mappings:"AACA,MACE,6BAA8B,AAC9B,kBAAoB,CACrB",file:"list.vue",sourcesContent:["\n.line {\n  border-bottom: 1px solid #ccc;\n  margin-bottom: 12px;\n}"],sourceRoot:""}])},661:function(t,e,n){var o=n(639);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(547)("9527558a",o,!0)},685:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[n("el-form",{attrs:{inline:!0,model:t.filters}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"搜索"},model:{value:t.filters.name,callback:function(e){t.filters.name=e},expression:"filters.name"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.filterData}},[t._v("查询")])],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.topics,"highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"cid",label:"货号",align:"center",width:"230"}}),t._v(" "),n("el-table-column",{attrs:{prop:"firstCategory",label:"一级类别",align:"center",width:"230"}}),t._v(" "),n("el-table-column",{attrs:{prop:"secondCategory",label:"二级类别",align:"center",width:"230"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"物品名称",align:"center",width:"140"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"单价",align:"center",width:"140"}}),t._v(" "),n("el-table-column",{attrs:{prop:"shelvesTime",label:"上架时间",align:"center",width:"200"}}),t._v(" "),n("el-table-column",{attrs:{label:"有效天数",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.validTime)+"天\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.rules.indexOf("01020101")>=0,expression:"rules.indexOf('01020101') >= 0"}],attrs:{type:"info",size:"small"},on:{click:function(n){t.handelShow(e.row)}}},[t._v("查看\n        ")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.rules.indexOf("01020102")>=0,expression:"rules.indexOf('01020102') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(n){t.handleOutLine(e.row)}}},[t._v("下架\n        ")])]}}])})],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"toolbar",attrs:{span:24}},[n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":t.page,"page-size":t.pageSize,total:t.total*t.pageSize},on:{"update:currentPage":function(e){t.page=e},"current-change":t.handleCurrentChange}})],1),t._v(" "),n("el-dialog",{attrs:{title:"查看","close-on-click-modal":!1},model:{value:t.showFormVisible,callback:function(e){t.showFormVisible=e},expression:"showFormVisible"}},[n("el-form",{attrs:{model:t.showForm,"label-width":"120px"}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showForm.img.length,expression:"showForm.img.length"}],attrs:{label:"图片："}},[n("div",{staticClass:"block",staticStyle:{width:"300px",height:"300px"}},[n("el-carousel",{attrs:{trigger:"click"}},t._l(t.showForm.img,function(t,e){return n("el-carousel-item",{key:e},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.url}})])}))],1)]),t._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.showForm.img.length,expression:"!showForm.img.length"}],attrs:{label:"视频："}},[n("video",{attrs:{src:t.showForm.video.url,controls:""}})]),t._v(" "),n("el-form-item",{attrs:{label:"名字："}},[n("div",[t._v(t._s(t.showForm.name))])]),t._v(" "),n("el-form-item",{attrs:{label:"价格："}},[n("div",[t._v(t._s(t.showForm.price))])]),t._v(" "),n("el-form-item",{attrs:{label:"颜色："}},[n("div",[t._v(t._s(t.showForm.color))])]),t._v(" "),n("el-form-item",{attrs:{label:"尺寸："}},[n("div",[t._v(t._s(t.showForm.size))])])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=10.464b99e00aab0a2308bc.js.map